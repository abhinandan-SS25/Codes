distinct(tavg) %>%
head(10)
req_years = official %>%
mutate(year=year(date)) %>%
filter(tavg %in% c(ten_req[["tavg"]])) %>%
filter(year>2000)
req_years
ten_req = official %>%
arrange(desc(tavg)) %>%
distinct(year) %>%
head(10)
ten_req = official %>%
mutate(year=year(date)) %>%
arrange(desc(tavg)) %>%
distinct(year) %>%
head(10)
req_years = official %>%
mutate(year=year(date)) %>%
filter(tavg %in% c(ten_req[["tavg"]])) %>%
filter(year>2000)
req_years
ten_req = official %>%
mutate(year=year(date)) %>%
arrange(desc(tavg)) %>%
group_by(year) %>%
head(10)
req_years = official %>%
mutate(year=year(date)) %>%
filter(tavg %in% c(ten_req[["tavg"]])) %>%
filter(year>2000)
req_years
mean_avg_temp = official %>%
mutate(year=year(date), month=month(date), day=day(date)) %>%
filter(month==1) %>%
group_by(day) %>%
summarize(daily_mean=mean())
mean_avg_temp = official %>%
mutate(year=year(date), month=month(date), day=day(date)) %>%
filter(month==1) %>%
group_by(day) %>%
summarize(daily_mean=mean(tavg))
View(mean_avg_temp)
mean_avg_temp = official %>%
mutate(year=year(date), month=month(date), day=day(date)) %>%
filter(month==1) %>%
group_by(day) %>%
summarize(daily_mean=mean(tavg))
req_temp = mean(mean_avg_temp["tavg"])
mean_avg_temp = official %>%
mutate(year=year(date), month=month(date), day=day(date)) %>%
filter(month==1) %>%
group_by(day) %>%
summarize(daily_mean=mean(tavg))
req_temp = mean(mean_avg_temp["daily_mean"])
mean_avg_temp = official %>%
mutate(year=year(date), month=month(date), day=day(date)) %>%
filter(month==1) %>%
group_by(day) %>%
summarize(daily_mean=mean(tavg)) %>%
arrange(desc(tavg)) %>%
head(25)
mean_avg_temp = official %>%
mutate(year=year(date), month=month(date), day=day(date)) %>%
filter(month==1) %>%
group_by(day) %>%
summarize(daily_mean=mean(tavg)) %>%
arrange(desc(daily_mean)) %>%
head(25)
req_temp = mean(mean_avg_temp["daily_mean"])
mean_avg_temp = official %>%
mutate(year=year(date), month=month(date), day=day(date)) %>%
filter(month==1) %>%
group_by(day) %>%
summarize(daily_mean=mean(tavg)) %>%
arrange(desc(daily_mean)) %>%
head(25)
req_temp = mean(as.numeric(mean_avg_temp["daily_mean"]))
mean_avg_temp = official %>%
mutate(year=year(date), month=month(date), day=day(date)) %>%
filter(month==1) %>%
group_by(day) %>%
summarize(daily_mean=mean(tavg)) %>%
arrange(desc(daily_mean)) %>%
head(25)
req_temp = mean(mean_avg_temp[["daily_mean"]])
mean_avg_temp = official %>%
mutate(year=year(date), month=month(date), day=day(date)) %>%
filter(month==1) %>%
group_by(day) %>%
summarize(daily_mean=mean(tavg)) %>%
arrange(desc(daily_mean)) %>%
head(25)
req_temp = mean(mean_avg_temp[["daily_mean"]])
req_temp
ten_req = official %>%
mutate(year=year(date)) %>%
group_by(year) %>%
arrange(desc(tavg)) %>%
head(10)
req_years = official %>%
mutate(year=year(date)) %>%
filter(tavg %in% c(ten_req[["tavg"]])) %>%
filter(year>2000)
req_years
View(ten_req)
jan_temp = official %>%
group_by(month) %>%
summarize(avg_t=mean(tavg))
jan_temp = official %>%
mutate(year=year(date), month=month(date), day=day(date)) %>%
group_by(month) %>%
summarize(avg_t=mean(tavg))
#ggplot(official, )
View(jan_temp)
jan_temp = official %>%
mutate(year=year(date), month=month(date), day=day(date)) %>%
filter(month!=1) %>%
group_by(year) %>%
summarize(avg_t=mean(tavg))
#ggplot(official, )
jan_temp = official %>%
mutate(year=year(date), month=month(date), day=day(date)) %>%
filter(month!=1) %>%
group_by(year) %>%
summarize(avg_t=mean(tavg))
ggplot(official, aes(x=year, y=avg_t)) +
geom_smooth() +
geom_hline(27.02, color="red") +
xlab("Year") +
ylab("Mean temperature for January") +
ggplot("Plot for mean temperature in the month of January through years")
jan_temp = official %>%
mutate(year=year(date), month=month(date), day=day(date)) %>%
filter(month!=1) %>%
group_by(year) %>%
summarize(avg_t=mean(tavg))
ggplot(official, aes(x=year, y=avg_t)) +
geom_smooth() +
geom_hline(yintercept=27.02, color="red") +
xlab("Year") +
ylab("Mean temperature for January") +
ggplot("Plot for mean temperature in the month of January through years")
jan_temp = official %>%
mutate(year=year(date), month=month(date), day=day(date)) %>%
filter(month!=1) %>%
group_by(year) %>%
summarize(avg_t=mean(tavg))
ggplot(official, aes(x=year, y=avg_t)) +
geom_smooth() +
geom_hline(yintercept=27.02, color="red") +
xlab("Year") +
ylab("Mean temperature for January") +
ggtitle("Plot for mean temperature in the month of January through years")
View(jan_temp)
jan_temp = official %>%
mutate(year=year(date), month=month(date), day=day(date)) %>%
filter(month!=1) %>%
group_by(year) %>%
summarize(avg_t=mean(tavg))
ggplot(jan_temp, aes(x=year, y=avg_t)) +
geom_smooth() +
geom_hline(yintercept=27.02, color="red") +
xlab("Year") +
ylab("Mean temperature for January") +
ggtitle("Plot for mean temperature in the month of January through years")
jan_temp = official %>%
mutate(year=year(date), month=month(date), day=day(date)) %>%
filter(month!=1) %>%
group_by(month) %>%
summarize(avg_t=mean(tavg))
View(jan_temp)
jan_temp = official %>%
mutate(year=year(date), month=month(date), day=day(date)) %>%
filter(month!=1) %>%
group_by(year) %>%
summarize(avg_t=mean(tavg))
View(jan_temp)
jan_temp = official %>%
mutate(year=year(date), month=month(date), day=day(date)) %>%
filter(month!=1) %>%
jan_temp = official %>%
mutate(year=year(date), month=month(date), day=day(date)) %>%
filter(month!=1)
jan_temp = official %>%
mutate(year=year(date), month=month(date), day=day(date)) %>%
filter(month!=1)
View(jan_temp)
jan_temp = official %>%
mutate(year=year(date), month=month(date), day=day(date)) %>%
filter(month==1) %>%
group_by(year) %>%
summarize(avg_t=mean(tavg))
ggplot(jan_temp, aes(x=year, y=avg_t)) +
geom_smooth() +
geom_hline(yintercept=27.02, color="red") +
xlab("Year") +
ylab("Mean temperature for January") +
ggtitle("Plot for mean temperature in the month of January through years")
### Add your code here
filtered_planets = planets %>%
filter(method=="Radial Velocity") %>%
drop_na(c(year, mass)) %>%
group_by(year) %>%
mutate(planets_discovered=n(), min_mass=min(mass))
filtered_planets %>%
print(n=10, c=everything())
graph = ggplot(filtered_planets, aes(x=year, y=min_mass)) +
geom_point(aes(size=planets_discovered)) +
scale_y_log10() +
xlab("Year") +
ylab("Minimum mass") +
ggtitle("Plot of the minimum mass of planet discovered in a year and the number of planets discovered") +
guides(color = guide_legend(title = "Number of planets discoevered"))
graph
## Add your code here
req_planets = planets %>%
filter(mass<1 & radius<1) %>%
arrange(mass)
req_planets
### Add your code here
subset <- planets %>%
group_by(method) %>%
mutate(planets_discovered=n()) %>%
filter(planets_discovered>50)
summary <- subset %>%
group_by(method, year) %>%
mutate(planets_in_year=n()) %>%
group_by(method, year) %>%
summarize(n=n()) %>%
arrange(year)
summary1 <- subset %>%
group_by( year) %>%
summarize(planets_in_year=n()) %>%
arrange(year)
joined = right_join(summary, summary1, by="year")
joined_total = sum(joined["n"])
joined_req = joined %>%
mutate(proportion=n/planets_in_year) %>%
select(year, method, n, proportion) %>%
arrange()
View(subset)
View(summary)
View(summary1)
graph = ggplot(joined_req, aes(x=year, y=proportion, fill=method)) +
geom_col() +
xlab("Year") +
ylab("Proportion of planets discovered") +
ggtitle("Proportions of planets discovered every year by method")
graph
joined_1 = joined_req %>%
filter((year>=2010 & year<=2022) & (method!="Transit" & method!="Radial Velocity"))
ggplot(joined_1, aes(x=year, y=n, fill=method)) +
geom_col(position = position_dodge2(preserve = "single")) +
scale_x_continuous(breaks = c(2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022),
labels = c("2010", "2011", "2012", "2013", "2014", "2015", "2016", "2017", "2018", "2019", "2020", "2021", "2022")) +
xlab("Year") +
ylab("Planets discovered") +
ggtitle("Planets discovered by years and methods")
knitr::opts_chunk$set(echo = TRUE,
message=FALSE, warning = FALSE,
fig.height = 3,
error = TRUE)
library(tidyverse)
library(lubridate)
source("../../scripts/viridis.R")
## Read in the csv file
planets = read_csv("../../data/exoplanets-clean-through-2022.csv")
### Add your code here
filtered_planets = planets %>%
filter(method=="Radial Velocity") %>%
drop_na(c(year, mass)) %>%
group_by(year) %>%
mutate(planets_discovered=n(), min_mass=min(mass))
filtered_planets %>%
print(n=10, c=everything())
graph = ggplot(filtered_planets, aes(x=year, y=min_mass)) +
geom_point(aes(size=planets_discovered)) +
scale_y_log10() +
xlab("Year") +
ylab("Minimum mass") +
ggtitle("Plot of the minimum mass of planet discovered in a year and the number of planets discovered") +
guides(color = guide_legend(title = "Number of planets discoevered"))
graph
### Add your code here
filtered_planets = planets %>%
filter(method=="Radial Velocity") %>%
drop_na(c(year, mass)) %>%
group_by(year) %>%
mutate(planets_discovered=n(), min_mass=min(mass))
filtered_planets %>%
print(n=10, c=everything())
graph = ggplot(filtered_planets, aes(x=year, y=min_mass)) +
geom_point(aes(size=planets_discovered)) +
scale_y_continuous() +
xlab("Year") +
ylab("Minimum mass") +
ggtitle("Plot of the minimum mass of planet discovered in a year and the number of planets discovered") +
guides(color = guide_legend(title = "Number of planets discoevered"))
graph
### Add your code here
filtered_planets = planets %>%
filter(method=="Radial Velocity") %>%
drop_na(c(year, mass)) %>%
group_by(year) %>%
mutate(planets_discovered=n(), min_mass=min(mass))
filtered_planets %>%
print(n=10, c=everything())
graph = ggplot(filtered_planets, aes(x=year, y=min_mass)) +
geom_point(aes(size=planets_discovered)) +
scale_y_continuous(log10) +
xlab("Year") +
ylab("Minimum mass") +
ggtitle("Plot of the minimum mass of planet discovered in a year and the number of planets discovered") +
guides(color = guide_legend(title = "Number of planets discoevered"))
graph
### Add your code here
filtered_planets = planets %>%
filter(method=="Radial Velocity") %>%
drop_na(c(year, mass)) %>%
group_by(year) %>%
mutate(planets_discovered=n(), min_mass=min(mass))
filtered_planets %>%
print(n=10, c=everything())
graph = ggplot(filtered_planets, aes(x=year, y=min_mass)) +
geom_point(aes(size=planets_discovered)) +
scale_y_log10() +
xlab("Year") +
ylab("Minimum mass") +
ggtitle("Plot of the minimum mass of planet discovered in a year and the number of planets discovered") +
guides(color = guide_legend(title = "Number of planets discoevered"))
graph
### Add your code here
filtered_planets = planets %>%
filter(method=="Radial Velocity") %>%
drop_na(c(year, mass)) %>%
group_by(year) %>%
mutate(planets_discovered=n(), min_mass=min(mass))
filtered_planets %>%
print(n=10, c=everything())
graph = ggplot(filtered_planets, aes(x=year, y=min_mass)) +
geom_point(aes(size=planets_discovered)) +
xlab("Year") +
ylab("Minimum mass") +
ggtitle("Plot of the minimum mass of planet discovered in a year and the number of planets discovered") +
guides(color = guide_legend(title = "Number of planets discoevered"))
graph
### Add your code here
filtered_planets = planets %>%
filter(method=="Radial Velocity") %>%
drop_na(c(year, mass)) %>%
group_by(year) %>%
mutate(planets_discovered=n(), min_mass=min(mass))
filtered_planets %>%
print(n=10, c=everything())
graph = ggplot(filtered_planets, aes(x=year, y=log10(min_mass))) +
geom_point(aes(size=planets_discovered)) +
xlab("Year") +
ylab("Minimum mass") +
ggtitle("Plot of the minimum mass of planet discovered in a year and the number of planets discovered") +
guides(color = guide_legend(title = "Number of planets discoevered"))
graph
### Add your code here
subset <- planets %>%
group_by(method) %>%
mutate(planets_discovered=n()) %>%
filter(planets_discovered>50)
summary <- subset %>%
group_by(method, year) %>%
mutate(planets_in_year=n()) %>%
group_by(method, year) %>%
summarize(n=n()) %>%
arrange(year)
summary1 <- subset %>%
group_by( year) %>%
summarize(planets_in_year=n()) %>%
arrange(year)
joined = right_join(summary, summary1, by="year")
joined_total = sum(joined["n"])
joined_req = joined %>%
mutate(proportion=n/planets_in_year) %>%
select(year, method, n, proportion) %>%
arrange()
joined_req %>%
print(n=10, c=everything())
graph = ggplot(joined_req, aes(x=year, y=proportion, fill=method)) +
geom_col() +
xlab("Year") +
ylab("Proportion of planets discovered") +
ggtitle("Proportions of planets discovered every year by method")
graph
joined_1 = joined_req %>%
filter((year>=2010 & year<=2022) & (method!="Transit" & method!="Radial Velocity"))
ggplot(joined_1, aes(x=year, y=n, fill=method)) +
geom_col(position = position_dodge2(preserve = "single")) +
scale_x_continuous(breaks = c(2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022),
labels = c("2010", "2011", "2012", "2013", "2014", "2015", "2016", "2017", "2018", "2019", "2020", "2021", "2022")) +
xlab("Year") +
ylab("Planets discovered") +
ggtitle("Planets discovered by years and methods")
official = read_csv("../../data/madison-weather-official-1869-2022.csv")
highest_temps = official %>%
arrange(desc(tmax)) %>%
distinct(tmax) %>%
head(5)
highest = official %>%
group_by(tmax) %>%
summarize(tmax, date) %>%
arrange(desc(tmax)) %>%
filter(tmax%in%c(highest_temps[["tmax"]]))
highest
propr_day = official %>%
mutate(day=day(date), month=month(date)) %>%
filter(prcp > 0) %>%
group_by(month) %>%
mutate(month_n=n()) %>%
group_by(day, month) %>%
summarize(proportion=n()/month_n) %>%
distinct(proportion)
propr_day
normal_mean_temperatures = official %>%
mutate(year=year(date), month=month(date)) %>%
filter(year>=1991 & year<=2020) %>%
group_by(month) %>%
summarize(mean = mean(tavg))
avg_2022 = official %>%
mutate(year=year(date), month=month(date)) %>%
filter(year==2022) %>%
group_by(month) %>%
summarize(t_avg=mean(tavg))
compare = unlist(c(merge(normal_mean_temperatures, avg_2022) %>%
mutate(diff=t_avg-mean) %>%
filter(diff>0) %>%
select(month)))
months_req = month.abb[compare]
months_req
ten_req = official %>%
mutate(year=year(date)) %>%
group_by(year) %>%
arrange(desc(tavg)) %>%
head(10)
req_years = official %>%
mutate(year=year(date)) %>%
filter(tavg %in% c(ten_req[["tavg"]])) %>%
filter(year>2000)
req_years
mean_avg_temp = official %>%
mutate(year=year(date), month=month(date), day=day(date)) %>%
filter(month==1) %>%
group_by(day) %>%
summarize(daily_mean=mean(tavg)) %>%
arrange(desc(daily_mean)) %>%
head(25)
req_temp = mean(mean_avg_temp[["daily_mean"]])
req_temp
jan_temp = official %>%
mutate(year=year(date), month=month(date), day=day(date)) %>%
filter(month==1) %>%
group_by(year) %>%
summarize(avg_t=mean(tavg))
ggplot(jan_temp, aes(x=year, y=avg_t)) +
geom_smooth() +
geom_hline(yintercept=27.02, color="red") +
xlab("Year") +
ylab("Mean temperature for January") +
ggtitle("Plot for mean temperature in the month of January through years")
### Add your code here
filtered_planets = planets %>%
filter(method=="Radial Velocity") %>%
drop_na(c(year, mass)) %>%
group_by(year) %>%
mutate(planets_discovered=n(), min_mass=min(mass))
filtered_planets %>%
print(n=10, c=everything())
graph = ggplot(filtered_planets, aes(x=year, y=log10(min_mass))) +
geom_point(aes(size=planets_discovered)) +
xlab("Year") +
ylab("Minimum mass") +
ggtitle("Plot of the minimum mass of planet discovered in a year and the number of planets discovered") +
guides(color = guide_legend(title = "Number of planets discoevered"))
graph
### Add your code here
filtered_planets = planets %>%
filter(method=="Radial Velocity") %>%
drop_na(year) %>%
drop_na(mass) %>%
group_by(year) %>%
mutate(planets_discovered=n(), min_mass=min(mass))
filtered_planets %>%
print(n=10, c=everything())
graph = ggplot(filtered_planets, aes(x=year, y=min_mass)) +
geom_point(aes(size=planets_discovered)) +
scale_y_log10() +
xlab("Year") +
ylab("Minimum mass") +
ggtitle("Plot of the minimum mass of planet discovered in a year and the number of planets discovered") +
guides(color = guide_legend(title = "Number of planets discoevered"))
graph
graph = ggplot(joined_req, aes(x=year, y=proportion, fill=method)) +
geom_col() +
xlab("Year") +
ylab("Proportion of planets discovered") +
ggtitle("Proportions of planets discovered every year by method")
graph
joined_1 = joined_req %>%
filter((year>=2010 & year<=2022) & (method!="Transit" & method!="Radial Velocity"))
ggplot(joined_1, aes(x=year, y=n, fill=method)) +
geom_col(position = position_dodge2(preserve = "single")) +
scale_x_continuous(breaks = c(2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022),
labels = c("2010", "2011", "2012", "2013", "2014", "2015", "2016", "2017", "2018", "2019", "2020", "2021", "2022")) +
xlab("Year") +
ylab("Planets discovered") +
ggtitle("Planets discovered by years and methods")
